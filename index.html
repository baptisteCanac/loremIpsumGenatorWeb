<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>lorem ipsum generator</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
	<div id="app">
		<header>
			<div class="topCanvas">
				<h1 class="title">Lorem ipsum generator</h1>
			</div>
		</header>
		<br>
		<section>
			<div class="form">
				<form>
					<input type="number" name="numberOfParagraph" placeholder="number of paragraph(s)..." id="paragraphNumber">

					<input type="number" name="numberOfWords" placeholder="word(s) by paragraph(s)..." id="wordsNumber">
				</form><br>
				<button onclick="getNumber()">valider</button><br><br>
				<div class="lorem">
					<p id="text"></p>
				</div>
			</div>
		</section>
	</div>
	<script type="text/javascript">
		function getNumber(){
			let numberOfParagraph = document.getElementById('paragraphNumber').value;
			let numberOfWords = document.getElementById('wordsNumber').value;
			console.log('button clicked !');
			if (numberOfParagraph == "" && numberOfWords == ""){
				window.alert('Veuillez saisir un nombre/chiffre valable')
			}else{
				function write(){ 
					const settings = {
					"async": true,
					"crossDomain": true,
					"url": "https://alexnormand-dino-ipsum.p.rapidapi.com/?paragraphs="+ numberOfParagraph +"&words="+ numberOfWords +"&format=html",
					"method": "GET",
					"headers": {
						"x-rapidapi-key": "45b20fe2fdmsh7fdc8a8e38f20ddp1bd462jsna65b10c1743c",
						"x-rapidapi-host": "alexnormand-dino-ipsum.p.rapidapi.com"
						}
					};
					$.ajax(settings).done(function (response) {
					document.getElementById('text').innerHTML = response;
					});
				}
				write();
			}
		}
	</script>
</body>
</html>
